(this["webpackJsonpyoda-admin-react"]=this["webpackJsonpyoda-admin-react"]||[]).push([[85],{415:function(e,t,a){"use strict";a(1);var r=a(34),n=a(409),c=a(417),i=a(2);t.a=function(e){var t=e.children,a=e.title,o=e.back,s=Object(r.g)();return Object(i.jsx)(n.a,{className:"form-crud",title:o?Object(i.jsxs)("div",{style:{display:"flex",flexDirection:"row",justifyContent:"start",alignItems:"center",gap:20},children:[Object(i.jsx)(c.a,{size:"25",color:"#000000",onClick:s.goBack,className:"custom-component-back-button"}),Object(i.jsx)("h1",{children:a})]}):a,children:t})}},458:function(e,t,a){"use strict";a.d(t,"a",(function(){return i}));var r=a(7),n=a(1),c=a(114),i=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"product-categories",t=Object(n.useState)(null),a=Object(r.a)(t,2),i=a[0],o=a[1],s=Object(n.useState)(null),u=Object(r.a)(s,2),l=u[0],d=u[1],p=Object(n.useState)(null),b=Object(r.a)(p,2),j=b[0],m=b[1];Object(n.useEffect)((function(){c.a.get(e).then((function(e){return o(e.data.data)})).catch((function(e){return d(e)}))}),[j]);var h=function(t){return c.a.delete(e+"/destroy/"+t).then((function(e){return m(!j),e.data.success})).catch((function(e){return d(e)}))};return{data:i,error:l,deleteProductCategory:h}}},499:function(e,t,a){"use strict";var r=a(4),n=(a(1),a(381)),c=a(2);t.a=function(e){var t=e.onChange;return Object(c.jsx)(n.a,Object(r.a)(Object(r.a)({},e),{},{onChange:function(e){var a=e.target.value.replace(/,/g,""),r=a.split("");if(/^-?\d*(\.\d*)?$/.test(a)||""===a||"-"===a)t(function(e){var t=e.toString().split("."),a=t[0],r=t[1];return a.replace(/\B(?=(\d{3})+(?!\d))/g,",")+(r?"."+r:"")}(a));else{var n=r.slice(0,r.length-1);t(n.join(""))}},maxLength:16,prefix:"Rp"}))}},591:function(e,t,a){"use strict";a.r(t);var r=a(35),n=a(63),c=a(7),i=a(223),o=a(564),s=a(381),u=a(528),l=a(523),d=a(88),p=a(422),b=a(608),j=a(34),m=a(1),h=a(415),f=a(114),O=function(){var e=Object(n.a)(Object(r.a)().mark((function e(t){var a;return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.a.post("products/store",t,{headers:{"Content-Type":"multipart/form-data"}}).then((function(e){return e.data.success})).catch((function(e){return!1}));case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),g=a(458),k=a(499),v=a(2);t.default=function(){var e=Object(j.g)(),t=Object(g.a)().data,a=Object(m.useState)(!1),f=Object(c.a)(a,2),x=f[0],y=f[1],C=function(){var t=Object(n.a)(Object(r.a)().mark((function t(a){var n,c;return Object(r.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!((null===a||void 0===a||null===(n=a.file)||void 0===n?void 0:n.size)>2e7)){t.next=3;break}return i.b.error("File harus lebih kecil dari 20 MB"),t.abrupt("return");case 3:return(c=new FormData).append("name",a.name),c.append("price",a.price.replace(",","")),c.append("description",a.description),c.append("product_category_id",a.product_category_id),c.append("attachment",a.attachment.file.originFileObj),t.next=11,O(c);case 11:t.sent?(i.b.success("Berhasil menambahkan produk"),e.push("/admin/produk-ucapan-digital")):i.b.error("Gagal menambahkan produk");case 13:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(v.jsx)(h.a,{title:"Tambah data produk ucapan digital",children:Object(v.jsxs)(o.a,{name:"basic",labelCol:{span:6},wrapperCol:{span:14},onFinish:C,onFinishFailed:function(e){1==e.errorFields.length?i.b.error(e.errorFields[0].errors[0]):i.b.error("Mohon isi semua form yang ada")},autoComplete:"off",labelAlign:"left",colon:!1,children:[Object(v.jsx)(o.a.Item,{label:"Nama Produk",name:"name",rules:[{required:!0,message:"Mohon masukkan nama produk"}],children:Object(v.jsx)(s.a,{})}),Object(v.jsx)(o.a.Item,{label:"Kategori Produk",name:"product_category_id",rules:[{required:!0,message:"Mohon pilih kategori produk"}],children:Object(v.jsx)(u.a,{style:{width:200},children:null===t||void 0===t?void 0:t.map((function(e){return Object(v.jsx)(u.a.Option,{value:null===e||void 0===e?void 0:e.id,children:null===e||void 0===e?void 0:e.name})}))})}),Object(v.jsx)(o.a.Item,{label:"Harga Produk",name:"price",rules:[{required:!0,message:"Mohon tentukan harga produk"}],children:Object(v.jsx)(k.a,{})}),Object(v.jsx)(o.a.Item,{label:"Deskripsi Produk",name:"description",rules:[{required:!0,message:"Mohon tentukan deskripsi produk"}],children:Object(v.jsx)(s.a.TextArea,{})}),Object(v.jsx)(o.a.Item,{label:"Upload Video Demo",name:"attachment",rules:[{required:!0,message:"Mohon masukkan demo video produk"}],children:Object(v.jsx)(l.a,{accept:".mp4,.mkv,.mov,.webm",customRequest:void 0,maxCount:1,onChange:function(e){0==e.fileList.length?y(!1):1==e.fileList.length&&y(!0)},className:"avatar-uploader",listType:"picture",children:!x&&Object(v.jsx)(d.a,{icon:Object(v.jsx)(b.a,{}),children:"Upload video demo"})})}),Object(v.jsx)(o.a.Item,{wrapperCol:{offset:6,span:4},children:Object(v.jsxs)(p.b,{size:"middle",children:[Object(v.jsx)(d.a,{type:"primary",danger:!0,htmlType:"submit",children:"Simpan"}),Object(v.jsx)(d.a,{danger:!0,htmlType:"button",onClick:function(){return e.push("/admin/produk-ucapan-digital")},children:"Batal"})]})})]})})}}}]);
//# sourceMappingURL=85.fba68f6a.chunk.js.map