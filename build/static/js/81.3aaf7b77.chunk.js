(this["webpackJsonpyoda-admin-react"]=this["webpackJsonpyoda-admin-react"]||[]).push([[81],{415:function(e,t,a){"use strict";a(1);var n=a(34),r=a(409),c=a(417),i=a(2);t.a=function(e){var t=e.children,a=e.title,u=e.back,o=Object(n.g)();return Object(i.jsx)(r.a,{className:"form-crud",title:u?Object(i.jsxs)("div",{style:{display:"flex",flexDirection:"row",justifyContent:"start",alignItems:"center",gap:20},children:[Object(i.jsx)(c.a,{size:"25",color:"#000000",onClick:o.goBack,className:"custom-component-back-button"}),Object(i.jsx)("h1",{children:a})]}):a,children:t})}},458:function(e,t,a){"use strict";a.d(t,"a",(function(){return i}));var n=a(7),r=a(1),c=a(114),i=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"product-categories",t=Object(r.useState)(null),a=Object(n.a)(t,2),i=a[0],u=a[1],o=Object(r.useState)(null),s=Object(n.a)(o,2),l=s[0],d=s[1],p=Object(r.useState)(null),b=Object(n.a)(p,2),j=b[0],m=b[1];Object(r.useEffect)((function(){c.a.get(e).then((function(e){return u(e.data.data)})).catch((function(e){return d(e)}))}),[j]);var f=function(t){return c.a.delete(e+"/destroy/"+t).then((function(e){return m(!j),e.data.success})).catch((function(e){return d(e)}))};return{data:i,error:l,deleteProductCategory:f}}},494:function(e,t,a){"use strict";a.d(t,"a",(function(){return i}));var n=a(7),r=a(1),c=a(114),i=function(e){var t=Object(r.useState)(null),a=Object(n.a)(t,2),i=a[0],u=a[1],o=Object(r.useState)(null),s=Object(n.a)(o,2),l=s[0],d=s[1],p=Object(r.useState)(!0),b=Object(n.a)(p,2),j=b[0],m=b[1];return Object(r.useEffect)((function(){m(!0),c.a.get("products/"+e).then((function(e){return u(e.data.data)})).catch((function(e){return d(e)})).finally((function(){return m((function(){return!1}))}))}),[]),{data:i,error:l,loading:j}}},499:function(e,t,a){"use strict";var n=a(4),r=(a(1),a(381)),c=a(2);t.a=function(e){var t=e.onChange;return Object(c.jsx)(r.a,Object(n.a)(Object(n.a)({},e),{},{onChange:function(e){var a=e.target.value.replace(/,/g,""),n=a.split("");if(/^-?\d*(\.\d*)?$/.test(a)||""===a||"-"===a)t(function(e){var t=e.toString().split("."),a=t[0],n=t[1];return a.replace(/\B(?=(\d{3})+(?!\d))/g,",")+(n?"."+n:"")}(a));else{var r=n.slice(0,n.length-1);t(r.join(""))}},maxLength:16,prefix:"Rp"}))}},595:function(e,t,a){"use strict";a.r(t);var n=a(35),r=a(63),c=a(7),i=a(223),u=a(564),o=a(381),s=a(528),l=a(523),d=a(88),p=a(422),b=a(608),j=a(34),m=a(1),f=a(415),h=a(494),O=a(458),v=a(114),g=function(){var e=Object(r.a)(Object(n.a)().mark((function e(t,a){var r;return Object(n.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.a.put("products/update/"+a,t,{headers:{"Content-Type":"multipart/form-data"}}).then((function(e){return e.data.success})).catch((function(e){return e}));case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),x=a(499),k=a(2);t.default=function(e){var t,a=Object(j.g)(),v="".concat(e.location.state.permission," Data ").concat(e.location.state.data),y=e.location.state.id,w=Object(m.useState)(!1),C=Object(c.a)(w,2),S=C[0],_=C[1],I=Object(h.a)(y).data,q=Object(O.a)().data,N=function(){var e=Object(r.a)(Object(n.a)().mark((function e(t){var r,c;return Object(n.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!((null===t||void 0===t||null===(r=t.file)||void 0===r?void 0:r.size)>2e7)){e.next=3;break}return i.b.error("File harus lebih kecil dari 20 MB"),e.abrupt("return");case 3:return console.log(t),(c=new FormData).append("name",t.name),c.append("price",t.price.replace(",","")),c.append("description",t.description),c.append("product_category_id",t.product_category_id),c.append("status",t.status),c.append("attachment",t.attachment.file.originFileObj),e.next=13,g(c,y);case 13:1==e.sent?(i.b.success("Berhasil mengubah produk"),a.push("/admin/produk-ucapan-digital")):i.b.error("Gagal mengubah produk");case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(k.jsx)(f.a,{title:v,children:Object(k.jsxs)(u.a,{name:"basic",labelCol:{span:6},wrapperCol:{span:14},autoComplete:"off",onFinish:N,labelAlign:"left",colon:!1,fields:[{name:"name",value:null===I||void 0===I?void 0:I.name},{name:"product_category_id",value:null===I||void 0===I||null===(t=I.product_category)||void 0===t?void 0:t.id},{name:"price",value:Number(null===I||void 0===I?void 0:I.price).toLocaleString("en-US")},{name:"description",value:null===I||void 0===I?void 0:I.description},{name:"status",value:null===I||void 0===I?void 0:I.status}],children:[Object(k.jsx)(u.a.Item,{label:"Nama Produk",name:"name",rules:[{required:!0,message:"Masukkan nama produk dengan benar!"}],children:Object(k.jsx)(o.a,{})}),Object(k.jsx)(u.a.Item,{label:"Kategori Produk",name:"product_category_id",rules:[{required:!0,message:"Pilih kategori produk dengan benar!"}],children:Object(k.jsx)(s.a,{style:{width:200},children:null===q||void 0===q?void 0:q.map((function(e){return Object(k.jsx)(s.a.Option,{value:null===e||void 0===e?void 0:e.id,children:null===e||void 0===e?void 0:e.name},null===e||void 0===e?void 0:e.id)}))})}),Object(k.jsx)(u.a.Item,{label:"Harga Produk",name:"price",rules:[{required:!0,message:"Masukkan harga produk dengan benar!"}],children:Object(k.jsx)(x.a,{})}),Object(k.jsx)(u.a.Item,{label:"Deskripsi Produk",name:"description",rules:[{required:!0,message:"Masukkan deskripsi produk dengan benar!"}],children:Object(k.jsx)(o.a.TextArea,{})}),Object(k.jsx)(u.a.Item,{label:"Upload Video Demo",name:"attachment",rules:[{required:!0,message:"Upload video demo produk!"}],children:Object(k.jsx)(l.a,{accept:".mp4,.mkv,.mov,.webm",customRequest:void 0,maxCount:1,onChange:function(e){0==e.fileList.length?_(!1):1==e.fileList.length&&_(!0)},className:"avatar-uploader",name:"attachment",children:!S&&Object(k.jsx)(d.a,{icon:Object(k.jsx)(b.a,{}),children:"Upload video demo"})})}),Object(k.jsx)(u.a.Item,{label:"Status",name:"status",rules:[{required:!0,message:"Masukkan status dengan benar!"}],children:Object(k.jsxs)(s.a,{style:{width:"200px"},children:[Object(k.jsx)(Option,{value:1,children:"Aktif"}),Object(k.jsx)(Option,{value:2,children:"Non-Aktif"})]})}),Object(k.jsx)(u.a.Item,{wrapperCol:{offset:6,span:4},children:Object(k.jsxs)(p.b,{size:"middle",children:[Object(k.jsx)(d.a,{type:"primary",danger:!0,htmlType:"submit",children:"Simpan"}),Object(k.jsx)(d.a,{danger:!0,htmlType:"button",onClick:function(){return a.push("/admin/produk-ucapan-digital")},children:"Batal"})]})})]})})}}}]);
//# sourceMappingURL=81.3aaf7b77.chunk.js.map